/*-- scss:defaults --*/
// ===== TH KÖLN FARBPALETTE =====
// Primärfarben bleiben gleich
$th-red: #c81e0f;        // Das markante TH-Rot
$th-magenta: #b43092;    // Magenta für Akzente
$th-orange: #ea5a00;     // Orange - NUR für Warnungen!

// Neutrale Farben - INVERTIERT für Dark Mode
$ink: #e8e8e8;           // Heller Text auf dunklem Grund
$paper: #1a1a2e;         // Dunkler Hintergrund
$gray-100: #2d2d44;      // Dunkles Grau (Codeblöcke, Tabellenköpfe)
$gray-200: #3d3d5c;      // Etwas heller (Rahmen, Trennlinien)
$gray-500: #9999aa;      // Mittleres Grau (Captions, Nebentexte)

// ===== BOOTSTRAP-VARIABLEN ÜBERSCHREIBEN =====
$link-color: lighten($th-red, 15%);  // Links aufgehellt für Kontrast
$body-color: $ink;
$body-bg: $paper;
$code-color: #bb8acf;    // Lila für Code (gut lesbar auf dunkel)


/*-- scss:rules --*/
// ===== GRUNDLEGENDE TYPOGRAFIE =====

body {
  color: $ink;
  background: $paper;
}

// ===== LINKS =====
a {
  color: lighten($th-red, 15%);  // Aufgehellt für Dark Mode
  text-decoration: none;
  
  &:hover {
    color: lighten($th-red, 25%);
    text-decoration: underline;
  }
  
  &:visited {
    color: lighten($th-magenta, 15%);
  }
}

// Glossar-Links
a.glossary, a:visited.glossary {
  color: lighten($th-red, 15%) !important;
}

// ===== ÜBERSCHRIFTEN =====
h1, h2, h3, h4 {
  color: $ink;
}

// Dezente Magenta-Linie unter H2
h2::after {
  content: "";
  display: block;
  margin-top: 0.3rem;
  width: 100%;
  border-bottom: 2px solid rgba($th-magenta, 0.5);  // Etwas kräftiger im Dark Mode
}


// ===== CALLOUT-BOXEN =====

.callout {
  background: rgba($gray-100, 0.6);  // Leicht transparent
  border: 1px solid $gray-200;
  border-left: 4px solid $th-magenta;
  border-radius: 0;
  
  .callout-header {
    background: rgba($gray-100, 0.8);
    border-bottom: 1px solid $gray-200;
  }
  
  .callout-title {
    color: $ink;
    font-weight: 600;
  }
}

// Verschiedene Callout-Typen
.callout-note {
  border-left-color: $th-magenta;
}

.callout.callout-tip,
.callout-tip.callout {
  border-left-color: $th-magenta !important;
}

.callout.callout-tip .callout-icon::before {
  color: $th-magenta !important;
}

.callout-warning {
  border-left-color: $th-orange;
}

.callout-important, .callout-caution {
  border-left-color: lighten($th-red, 10%);  // Etwas heller für Sichtbarkeit
}

// ===== CODEBLÖCKE =====
pre, pre code {
  background: $gray-100;
  border: 1px solid $gray-200;
  border-radius: 4px;
  color: $ink;  // Explizit helle Textfarbe
}

div.sourceCode {
  background: $gray-100;
  border: 1px solid $gray-200;
  border-radius: 4px;
}

// ===== TABELLEN =====
table {
  border-collapse: collapse;
  width: 100%;
  margin: 1rem 0;
  border: none;
}

thead th {
  background: $gray-100;
  border-bottom: none;
  padding: 0.6rem;
  text-align: left;
  font-weight: 600;
  color: $ink;
}

tbody td {
  padding: 0.5rem 0.6rem;
  border-bottom: 1px solid $gray-200;
}

// Zebra-Streifen
tbody tr:nth-child(even) {
  background: rgba($gray-100, 0.5);
}

// ===== ABBILDUNGEN =====
.quarto-figure {
  border: none;
}

.quarto-figure figure {
  border: none !important;
}

.quarto-figure figcaption, figure figcaption {
  color: $gray-500;
  font-size: 0.9em;
  margin-top: 0.5rem;
  font-style: italic;
}

// ===== SIDEBAR & NAVIGATION =====
.sidebar-title {
  color: lighten($th-red, 15%);
}

.sidebar-item-text.active {
  color: lighten($th-red, 15%);
  font-weight: 600;
}


// ===== INHALTSVERZEICHNIS (TOC) =====
#TOC a {
  color: $ink;
  
  &:hover {
    color: lighten($th-red, 15%);
  }
}

#TOC .active {
  border-left: 3px solid $th-magenta;
}


// ===== DARK/LIGHT MODE SWITCHING =====
// UMGEKEHRT zum Light Mode!
.dark-mode,
.dark-light .cell-output-display figure,
.dark-light .cell-output-display img {
  display: block;  // Im Dark Mode: dark-mode ANZEIGEN
}

.light-mode,
.dark-light .cell-output-display + .cell-output-display figure,
.dark-light .cell-output-display + .cell-output-display img {
  display: none;   // Im Dark Mode: light-mode VERSTECKEN
}

// Terminal-Boxen
.terminal {
  border-color: #324C63;  // Dunklere Farbe für Dark Mode
}

// ===== FOOTER =====
.nav-footer {
  border-top: 2px solid rgba($th-magenta, 0.4);
}
